{% extends 'body.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="container">
    <h2>{{ title }}</h2>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="tab1-tab" data-toggle="tab" href="#tab1" role="tab" aria-controls="tab1" aria-selected="true">Persona Moral</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="tab2-tab" data-toggle="tab" href="#tab2" role="tab" aria-controls="tab2" aria-selected="false">Persona Fisica</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="tab3-tab" data-toggle="tab" href="#tab3" role="tab" aria-controls="tab3" aria-selected="false">Extranjero</a>
        </li>
    </ul>
<div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">

    <form method="post" action=".">
        <div class="card card-default">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-plus"></i>
                    {{ title }}
                </h3>
            </div>

            <div class="card-body">
                {% csrf_token %}
                <div class="container">
                    <div class="row">
                        {% for field in form.visible_fields %}
                            <div class="form-group col-md-6">
                                <label for="">{{ field.label }}:</label>
                                {{ field}}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="card-footer">
                <button type="submit" class="btn btn-primary btn-flat">
                    <i class="fas fa-save"></i> Guardar registro
                </button>
            </div>
        </div>
    </form>
</div>
<div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
            <!-- Contenido para la Pestaña 2 -->
        </div>
        <div class="tab-pane fade" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
            <!-- Contenido para la Pestaña 3 -->
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    var tabButtons = document.querySelectorAll('.nav-link');
    tabButtons.forEach(function (button) {
        button.addEventListener('click', function () {
            var selectedTab = this.getAttribute('href').substring(1); // 'tab1', 'tab2', 'tab3', etc.
            document.querySelector('input[name="tipoReceptor"]').value = selectedTab;
        });
    });
});
</script>

{% endblock %}
